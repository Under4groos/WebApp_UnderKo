@page
@model WebApp_UnderKo.Pages.projectModel
@{

    async Task a_Button(string LinkDownload, string text)
    {
        <a href="@LinkDownload" style="width:100%" class="btn fs-6 bordeer-tlbr btn-dark  btn-lg  bg-opacity-50   m-1"> @text </a>
    }
    async Task BackImage(string url)
    {
        // http://localhost:7076/file?name=smdcompile/smdcompile_1.png
        int mar = -5;
        <div style="position: absolute; left: @(mar)px; right: @(mar)px; top: @(mar)px; bottom: @(mar)px;
                                  background-image: url('/file?name=@url'); opacity: 0.1; filter:blur(5px); z-index:-10"></div>
    }
    
}

<div class="container-md mt-2 pb-2">
    @if (string.IsNullOrEmpty(Model.NameProject))
    {


        @foreach (var project in WebApp_UnderKo.Models.G_.CacheData.xamlProjectsData.Projects)
        {
            <div  class="bg-image position-relative bordeer-tlbr rounded-3 overflow-hidden  text-center bg-body-tertiary mb-3">
                @{
                    await BackImage(project.Images.FirstOrDefault<string>(string.Empty));
                }
               

                <div style="z-index:10" class="col-md-8 p-lg-1 mx-auto my-1 mt-3 mb-3">
                    <h1 class="display-5 fw-bold">@project.Name</h1>
                    <h5 class="fw-normal text-muted mb-3">@project.Description </h5>
                    <div class="d-flex gap-3 justify-content-center lead fw-normal">
                        @{
                            // await a_Button($"/project?name={project.Name}", "Learn more");
                            await a_Button($"/project?name={project.Name}", "Learn more");


                        }

                    </div>
                </div>

            </div>
        }

 

    }
    else
    {

    }
</div>